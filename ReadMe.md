Резюме работы по замечаниям:



1. Интегрировать в проект фреймворк Celery



Что сделано:



- -         установлен модуль celery и коннектор для подключения к redis
- -         приложение добавлено в \\_\\_init.py\\_\\_ модуля orders
- -         настройки приложения добавлены в settings
- -         в папке приложения orders/orders/ добавлен файл celery.py c настройками
- -         установлен redis

\-         перенос приложения для тестирования на линукс-платформу, адрес сервера - 95.163.230.254:8000, все запросы с новым адресом и токенами в файле test\_requests\_3.http. Дальнейшее тестирование in progress..







2\. Сделать кейс с VeiwSet и роутером.



Что сделано:



- -         Добавлен ProductViewSet для вывода списка продуктов (каталога) и карточки отдельного продукта.
- -         В urls.py зарегистрирован роутер и подключен маршрут: path('product/', include(router.urls)). Данный маршрут отрабатывает



запросы раздела 4.ПРОСМОТР КАТАЛОГА ПРОДУКТОВ







3\. Покрыть хотя бы 30% модуля views.py тестами



Что сделано:



- -         В папку orders/backend\\_app/ добавлен файл tests.py с тестами
- -         Для запуcка теста из командной строки терминала находясь в директории python-final-project\orders набрать команду: python manage.py test backend\\_app.tests







4\. Опробовать автогенерацию документации Open API в рамках пакета DRF-Spectacular.



Что сделано:



- -         Установлен пакет drf-yasg - Yet another Swagger generator, приложение подключено в settings.py
- -         В папку orders/orders/ добавлен файл yasg.py со схемой
- -         В orders/orders/urls.py добавлены маршуты для swagger и redoc, определенные в yasg.py
- -         Добавлены недостающие докстринги для классов и методов



В результате по ссылке http://127.0.0.1:8000/swagger/ запускается интерфейс тестирования/документирования.







5\. Попробовать простой DRF троттлинг.



Что сделано:



В settings.py в раздел REST\\_FRAMEWORK добавлены настройки троттлинга:



- -         'DEFAULT\\_THROTTLE\\_CLASSES'
- -         'DEFAULT\\_THROTTLE\\_RATES':



'anon': '30/minute',



'user': '60/minute'



В результате при превышении кол-ва запросов системой выводится ответ:



HTTP/1.1 429 Too Many Requests.







6\. Добавить возможность авторизации с 1-2 социальных сетей



Что сделано:



- -         Установлено social-auth-app-django
- -         'social\\_django' зарегистрировано в settings и в urls
- -         Там же в settings добавлен раздел AUTHENTICATION\\_BACKENDS и в него сервер аутентификаии ВК
- -         Приложение зарегистрировано в ВК
- -         Application Id and Application Secret прописаны в settings







7\. Оптимизация запросов через django-silk



Не реализовано







Приложение предоставляется в двумя базами: diploma и diploma\\_2.



В поставке приложения в настройках прописана база diploma\\_2.



diploma - пустая базой, с которой выполнены слещующие предварительные действия:



0\. Установлены зависимости



1. Проведены миграции
1. Создан супер пользователь: admin 1qaz2wsx
1. Создано по одной компании:
- -         -         "Mobilka", тип "Магазин"
- -         -         "reStore", тип "Поставщик".



4\. Зарегистрировано по одному пользователю от каждой компании



5\. Проведена авторизация пользователей (см. запросы 2.1 и 2.2), полученые токены прописаны в тестовых запросах в файле test\\_requests.http



Если вас устраивает предварительная подготовка базы, можно перейти к шагу 10 списка тестирования ниже,



в противно случае - начать с шага 1.







diploma\\_2 - заполненная база, файл запросов для нее с прописанными в запросах токенами - test\\_requests\\_2.http







Для самостоятельного выполнения указанных выше шагов необходимо выполнить:



0\. Установить зависимости - pip install -m requirements.txt - и запустить виртуальное окружение



1. В файле /orders/orders/settings.py в разделе DATABASES указать имя новой БД
1. Очистить папку миграций orders/backend\\_app/migrations
1. Из корневой папки проекта /python-final-project/orders в терминале провести миграции:



python manage.py makemigrations



python manage.py migrate



4\. В терминале создать суперпользователя: python manage.py createsuperuser

4\. Запустить приложение: manage.py runserver

4\. Ввести адрес в браузере http://127.0.0.1:8000/admin/

4\. Залогиниться под учетной записью суперюзера, созданного на шаге 4.

4\. Слева в меню найти BACKEND\\_APP, пункт Список команий

4\. Рекомендуется добавить две компании:

- -         -         первая:  Название - "Mobilka", тип -  "Магазин"
- -         -         вторая: Название - "reStore", тип - "Поставщик"



Рекомендуется создавать комании в таком же порядке и с такими же реквизитами,



т.к. в дальнейшем они используются в тестовых запросах, поставляемых вместе



с приложением, в противном случае запросы потребуется корректировать.



10\. Открыть Visual Studio Code, а в нем файл /orders/orders/test\\_requests.http.



В данном файле собраны запросы для тестирования функционала приложения.



11\. Выполнить тестовые запросы раздела 1. РЕГИСТРАЦИЯ ПОЛЬЗОВАТЕЛЕЙ



12\. Выполнить тестовые запросы раздела 2. АВТОРИЗАЦИЯ ПОЛЬЗОВАТЕЛЕЙ. При этом сохранить токены, полученные в результате выполнения запросов 2.1 и 2.2



13\. Выполнить тестовые запросы раздела 3. ЗАГРУЗКА ПРАЙСА. При этом необходимо выполнить следующие условия:



- -         -         В запросах от пользователя поставщика и покупателя необходимо подставлять соответствующие сохранненные выше токены
- -         -         Для выполнения запроса 3.4 необходимо в файле /orders/orders/supplier1.yaml поменять id и/или name поставщика



14\. Выполнить тестовые запросы раздела 4. ПРОСМОТР КАТАЛОГА ПРОДУКТОВ



15\. Выполнить тестовые запросы раздела 5. ДОБАВЛЕНИЕ ПРОДУКТОВ В ЗАКАЗ



16\. Выполнить тестовые запросы раздела 6. УДАЛЕНИЕ ПРОДУКТОВ ИЗ ЗАКАЗА



17\. Выполнить тестовые запросы раздела 7. ПРОСМОТР ЗАКАЗОВ И ИСТОРИИ



18\. Выполнить тестовые запросы раздела 8. ИЗМЕНЕНИЕ СТАТУСОВ ЗАКАЗОВ












